<!DOCTYPE html><html lang="zh-Hans"><head><meta name="generator" content="Hexo 3.9.0"><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta name="description" content="[原]HTTP - - HTTP协议简要分析（1）"><meta name="keywords" content="http"><meta name="author" content="JaCo Wu"><meta name="copyright" content="JaCo Wu"><title>[原]HTTP - - HTTP协议简要分析（1） | JaCo Wu的博客</title><link rel="shortcut icon" href="https://jacokwu.cn/images/public/author.jpg"><link rel="stylesheet" href="/blog/css/index.css?version=1.6.1"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css?version=1.6.1"><link rel="dns-prefetch" href="https://cdn.staticfile.org"><link rel="dns-prefetch" href="https://cdn.bootcss.com"><link rel="dns-prefetch" href="https://creativecommons.org"><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/gitalk/dist/gitalk.min.css"><script src="https://cdn.jsdelivr.net/npm/gitalk@latest/dist/gitalk.min.js"></script><script src="https://cdn.jsdelivr.net/npm/blueimp-md5@2.10.0/js/md5.min.js"></script><link rel="dns-prefetch" href="http://ta.qq.com"><script>(function() {
   var hm = document.createElement("script");
   hm.src = "https://tajs.qq.com/stats?sId=66455669";
   var s = document.getElementsByTagName("script")[0];
   s.parentNode.insertBefore(hm, s);
 })();</script><script>var GLOBAL_CONFIG = { 
  root: '/blog/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"找不到您查询的内容:${query}"}},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  }
} </script></head><body><i class="fa fa-arrow-right" id="toggle-sidebar" aria-hidden="true"></i><div id="sidebar"><div class="toggle-sidebar-info text-center"><span data-toggle="切换文章详情">切换站点概览</span><hr></div><div class="sidebar-toc"><div class="sidebar-toc__title">目录</div><div class="sidebar-toc__progress"><span class="progress-notice">你已经读了</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar"></div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#HTTP协议"><span class="toc-number">1.</span> <span class="toc-text">HTTP协议</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#HTTP协议主要的协议特性"><span class="toc-number">2.</span> <span class="toc-text">HTTP协议主要的协议特性</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#HTTP协议是建立在TCP-IP上层的应用层协议"><span class="toc-number">2.1.</span> <span class="toc-text">HTTP协议是建立在TCP/IP上层的应用层协议</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#HTTP协议是一个基于请求-响应模式的无状态的协议"><span class="toc-number">2.2.</span> <span class="toc-text">HTTP协议是一个基于请求/响应模式的无状态的协议</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#无永久连接"><span class="toc-number">2.3.</span> <span class="toc-text">无永久连接</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#HTTP服务器默认的TCP连接的端口为80"><span class="toc-number">3.</span> <span class="toc-text">HTTP服务器默认的TCP连接的端口为80</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#HTTP协议中的请求头和响应信息"><span class="toc-number">4.</span> <span class="toc-text">HTTP协议中的请求头和响应信息</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#HTTP消息的基本组成"><span class="toc-number">4.1.</span> <span class="toc-text">HTTP消息的基本组成</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#HTTP协议中头域的基本组成"><span class="toc-number">4.2.</span> <span class="toc-text">HTTP协议中头域的基本组成</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#通用头（General-Header）"><span class="toc-number">4.3.</span> <span class="toc-text">通用头（General Header）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#服务端响应消息（Response-Headers）"><span class="toc-number">4.4.</span> <span class="toc-text">服务端响应消息（Response Headers）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#客户端发送消息（Request-Headers）"><span class="toc-number">4.5.</span> <span class="toc-text">客户端发送消息（Request Headers）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#主要的响应输出的状态码及其功能说明"><span class="toc-number">4.6.</span> <span class="toc-text">主要的响应输出的状态码及其功能说明</span></a></li></ol></li></ol></div></div><div class="author-info hide"><div class="author-info__avatar text-center"><img src="https://jacokwu.cn/images/public/author.jpg"></div><div class="author-info__name text-center">JaCo Wu</div><div class="author-info__description text-center">一个默默无闻的前端攻城狮</div><div class="follow-button"><a href="https://github.com/JaCoxxx/JaCoxxx.github.io">Follow Me</a></div><hr><div class="author-info-articles"><a class="author-info-articles__archives article-meta" href="/blog/archives"><span class="pull-left">文章</span><span class="pull-right">18</span></a><a class="author-info-articles__tags article-meta" href="/blog/tags"><span class="pull-left">标签</span><span class="pull-right">30</span></a><a class="author-info-articles__categories article-meta" href="/blog/categories"><span class="pull-left">分类</span><span class="pull-right">6</span></a></div><hr><div class="author-info-links"><div class="author-info-links__title text-center">大佬博客</div><a class="author-info-links__name text-center" href="http://www.wclimb.site">wclimb</a></div></div></div><div id="content-outer"><div id="top-container" style="background-image: url(https://jacokwu.cn/images/public/background.png)"><div id="page-header"><span class="pull-left"> <a id="site-name" href="/blog/">JaCo Wu的博客</a></span><i class="fa fa-bars toggle-menu pull-right" aria-hidden="true"></i><span class="pull-right menus"><a class="site-page social-icon search"><i class="fa fa-search"></i><span> 搜索</span></a><a class="site-page" href="/blog">首页</a><a class="site-page" href="/blog/archives">归档</a><a class="site-page" href="/blog/tags">标签</a><a class="site-page" href="/blog/categories">分类</a></span></div><div id="post-info"><div id="post-title">[原]HTTP - - HTTP协议简要分析（1）</div><div id="post-meta"><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2018-09-02</time><span class="post-meta__separator">|</span><i class="fa fa-inbox post-meta__icon" aria-hidden="true"></i><a class="post-meta__categories" href="/blog/categories/网络/">网络</a><div class="post-meta-wordcount"><span>字数总计: </span><span class="word-count">2.2k</span><span class="post-meta__separator">|</span><span>阅读时长: 6 分钟</span></div></div></div></div><div class="layout" id="content-inner"><article id="post"><div class="article-container" id="post-content"><p>HTTP（Hypertext Transfer Protocol）协议是w3c于1990年颁布的一个属于应用层的面向对象的协议，主要适用于分布式超媒体信息系统。</p>
<h2 id="HTTP协议"><a href="#HTTP协议" class="headerlink" title="HTTP协议"></a>HTTP协议</h2><p>HTTP协议是指客户端程序与web服务器的请求、响应的交互过程中所必须要遵守的规则和数据格式，即通信规范。</p>
<p>在此，客户端程序是指web浏览器、网络爬虫或者其他的应用程序；web服务器是指提供<a href="https://baike.baidu.com/item/WWW%E6%9C%8D%E5%8A%A1/10185376?fr=aladdin" target="_blank" rel="noopener">www类型服务</a>的主机。HTTP服务是目前在因特网上使用最广泛的应用层协议。它主要用于传输采用HTML实现的页面文件，而客户端浏览器与web服务器之间通过这个协议，使得网友可以拿鼠标达到全世界（当然，首先要翻墙才可以到一些到不了的地方），并通过特定的程序与web服务器进行人机交互，也就是请求响应。</p>
<p>tip：基于HTTP协议的客户端程序也被称为用户代理（User Agent），在用户代理和目标服务器之间存在多个不同形式的中间层（如代理、网关等）。浏览器也并不是基于HTTP协议的唯一客户端程序，在应用中还可以有搜索引擎、手机、掌上电脑、机顶盒等设备和程序，它们也通过HTTP协议与对应的web服务器之间进行通信和数据交换。</p>
<h2 id="HTTP协议主要的协议特性"><a href="#HTTP协议主要的协议特性" class="headerlink" title="HTTP协议主要的协议特性"></a>HTTP协议主要的协议特性</h2><h3 id="HTTP协议是建立在TCP-IP上层的应用层协议"><a href="#HTTP协议是建立在TCP-IP上层的应用层协议" class="headerlink" title="HTTP协议是建立在TCP/IP上层的应用层协议"></a>HTTP协议是建立在TCP/IP上层的应用层协议</h3><p>HTTP协议不仅保证客户端程序正确和快速地传输超文本文件信息，而且是一个基于请求/响应模式的无状态的协议。HTTP之所以简单和能够快速响应，主要是由于客户端程序向服务器程序发送HTTP请求时，只需要传送请求的方式和目标资源的路径和文件名，并且请求的方式可以为get，post和head等多种形式。</p>
<h3 id="HTTP协议是一个基于请求-响应模式的无状态的协议"><a href="#HTTP协议是一个基于请求-响应模式的无状态的协议" class="headerlink" title="HTTP协议是一个基于请求/响应模式的无状态的协议"></a>HTTP协议是一个基于请求/响应模式的无状态的协议</h3><p>协议的状态是指在下一次传输时可以保留本次传输信息的能力，而无状态也就是之HTTP协议对于事务处理没有记忆的能力，如果用户代理在后续处理中需要应用前次请求的信息，则必须重新请求。</p>
<p>基于请求/响应也就意味着客户端每次更新信息时都要重新向web服务器发出请求，HTTP协议具有无状态的特性，也就意味着客户端浏览器获取了所请求的目标资源后，将于web服务器断开网络连接而空出不再需要的网络连接资源。</p>
<p>因此，无状态的特性可<strong>提升分布式应用系统的性能，也允许在同一个页面中包括分布在相距很远的不同服务器中的其他信息。</strong></p>
<p>但是无状态的特性将会<strong>导致每次连接传送的数据量增大，同时也为实现会话跟踪带来一定的技术实现上的复杂性。</strong></p>
<h3 id="无永久连接"><a href="#无永久连接" class="headerlink" title="无永久连接"></a>无永久连接</h3><p>HTTP协议所具有的无永久连接的含义是指限制每次连接只处理一个请求，并且服务器处理完客户端程序的请求并受到客户端程序的应答信息后立即断开与客户端程序之间的网络连接，从而提高传输性能和减少传输时间。</p>
<h2 id="HTTP服务器默认的TCP连接的端口为80"><a href="#HTTP服务器默认的TCP连接的端口为80" class="headerlink" title="HTTP服务器默认的TCP连接的端口为80"></a>HTTP服务器默认的TCP连接的端口为80</h2><p>每当客户端程序向web服务器发送一个HTTP请求后，也就建立出一个到web服务器指定端口的TCP连接。这个指定的端口就是80；如果HTTP服务器的端口号不是80，则在访问该web服务器时必须给定具体的端口号，比如tomcat服务器默认的端口号为8080。</p>
<h2 id="HTTP协议中的请求头和响应信息"><a href="#HTTP协议中的请求头和响应信息" class="headerlink" title="HTTP协议中的请求头和响应信息"></a>HTTP协议中的请求头和响应信息</h2><h3 id="HTTP消息的基本组成"><a href="#HTTP消息的基本组成" class="headerlink" title="HTTP消息的基本组成"></a>HTTP消息的基本组成</h3><p>HTTP消息包括客户端程序向web服务器发送的请求消息和web服务器端程序向客户端程序返回的响应消息，而且他们都是由一个请求起始行、一个或者多个头域、一个标识头域结束的空行和可选的消息体组成。</p>
<h3 id="HTTP协议中头域的基本组成"><a href="#HTTP协议中头域的基本组成" class="headerlink" title="HTTP协议中头域的基本组成"></a>HTTP协议中头域的基本组成</h3><p>HTTP协议的头域主要包括通用头、请求头、响应头和实体头4个部分。每个头域由域名、冒号和域值三部分组成。</p>
<p><strong>通用头域</strong>包含请求和响应消息都支持的头域，提供了与报文相关的最基本的信息，通用头域包含Cache-Control、Connection、Date、Pragma、Transfer-Encoding、Upgrade、Via；</p>
<p><strong>请求消息</strong>的第一行为下面的格式： </p>
<p>MethodSPRequest-URISPHTTP-VersionCRLF</p>
<p>Method 表示对于Request-URI完成的方法，这个字段是大小写敏感的，包括OPTIONS、GET、HEAD、POST、PUT、DELETE、 TRACE。</p>
<p><strong>响应消息</strong>的第一行为下面的格式： </p>
<p>HTTP-VersionSPStatus-CodeSPReason-PhraseCRLF </p>
<p>HTTP -Version表示支持的HTTP版本，例如为HTTP/1.1。Status- Code是一个三个数字的结果代码。Reason-Phrase给Status-Code提供一个简单的文本描述。</p>
<p>请求消息和响应消息都可以包含实体信息，实体信息一般由实体头域和实体组成。实体头域包含关于实体的原信息，实体头包括Allow、Content- Base、Content-Encoding、Content-Language、 Content-Length、Content-Location、Content-MD5、Content-Range、Content-Type、 Etag、Expires、Last-Modified、extension-header。</p>
<p>具体的header详解可以查看这篇<a href="https://my.oschina.net/gaomq/blog/1795002" target="_blank" rel="noopener">博文</a>。</p>
<h3 id="通用头（General-Header）"><a href="#通用头（General-Header）" class="headerlink" title="通用头（General Header）"></a>通用头（General Header）</h3><p>这里以我的CSDN博客首页的请求为例。</p>
<p><img src="https://img-blog.csdn.net/20180911223229752?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2phY29veA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt>                  </p>
<p>其中，</p>
<p>Request URL : 请求的URL</p>
<p>Request Method : 请求的方式</p>
<p>Status Code : 响应输出的状态码</p>
<p>Remote Address : 远程地址，包括 IP地址：端口号</p>
<p>Referrer Policy : 来源协议，用来规定是否发送referrer消息，此处表示仅当发生协议降级（如 HTTPS 页面引入 HTTP 资源，从 HTTPS 页面跳到 HTTP 等）时不发送 Referrer 信息。这个规则是现在大部分浏览器默认所采用的。对于此协议的几种值可以查看此<a href="https://blog.csdn.net/lancelot_lewis/article/details/81133371" target="_blank" rel="noopener">博客</a>。</p>
<h3 id="服务端响应消息（Response-Headers）"><a href="#服务端响应消息（Response-Headers）" class="headerlink" title="服务端响应消息（Response Headers）"></a>服务端响应消息（Response Headers）</h3><p>​​​<br>​​​​同样以我的CSDN博客首页的请求为例。</p>
<p><img src="https://img-blog.csdn.net/20180911224534883?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2phY29veA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt></p>
<p>其中，</p>
<p>Connection : 是否开启HTTP持久连接，此处表示开启，HTTP 1.1默认值；HTTP 1.0默认值是 close,表示关闭HTTP持久连接。</p>
<p>Content-Encoding : web服务器支持的返回内容压缩编码类型。</p>
<p>Content-Type : 相应内容的类型，更多内容可以查询此<a href="http://tool.oschina.net/commons" target="_blank" rel="noopener">常用对照表</a>。</p>
<p>Date : 表示发起请求的世界时。</p>
<p>Keep-Alive : 表示HTTP持久连接在请求响应后延迟多长时间关闭。</p>
<p>Server : web服务器软件的名称。</p>
<p>Strict-Transport-Security : 表示这个网站禁止使用HTTP方式加载，浏览器应该自动把所有尝试使用HTTP的请求自动替换为HTTPS请求， max-age 表示缓存秒数。</p>
<p>Transfer-Encoding : 文件传输编码。</p>
<p>Vary : 告诉下游代理是使用缓存响应还是从原始服务器请求。</p>
<h3 id="客户端发送消息（Request-Headers）"><a href="#客户端发送消息（Request-Headers）" class="headerlink" title="客户端发送消息（Request Headers）"></a>客户端发送消息（Request Headers）</h3><p>​​​<br>​​​​同样以我的CSDN博客首页的请求为例。</p>
<p><img src="https://img-blog.csdn.net/20180911230606720?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2phY29veA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt></p>
<p>Accept : 指定客户端能够接收的内容类型，内容类型中的先后次序表示客户端接收的先后次序</p>
<p>Accept-Encoding : 指定客户端浏览器可以支持的web服务器返回内容压缩编码类型。</p>
<p>Accept-Language : 指定HTTP客户端浏览器用来展示返回信息所优先选择的语言。</p>
<p>Cache-Control : 告诉所有的缓存机制是否可以缓存及哪种类型。</p>
<p>Cookie : HTTP请求发送时，会把保存在该请求域名下的所有cookie值一起发送给web服务器。</p>
<p>Host : 请求的web服务器域名地址。</p>
<p>Referer : 包含一个URL，用户从该URL代表的页面出发访问当前请求的页面。</p>
<p>Upgrade-Insecure-Requests : 对应服务器的响应头的 Content-Security-Policy: upgrade-insecure-requests，而在浏览器的请求头出现的 Upgrade-Insecure-Requests:1 则是告诉服务器，自己支持这种操作，也就是我能读懂你服务器发过来的上面这条信息，并且在以后发请求的时候不用http而用https。</p>
<p>User-Agent : HTTP客户端运行的浏览器类型的详细信息。</p>
<h3 id="主要的响应输出的状态码及其功能说明"><a href="#主要的响应输出的状态码及其功能说明" class="headerlink" title="主要的响应输出的状态码及其功能说明"></a>主要的响应输出的状态码及其功能说明</h3><p>​​​​<br>​​​关于状态码可以直接查看我之前写的博客：常见的十个HTTP协议状态码。</p>
<p>（未完待续）</p>
</div></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:undefined">JaCo Wu</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="https://jacokwu.cn/blog/网络/cjzjhsmkt001mz0uzctl9tueg/">https://jacokwu.cn/blog/网络/cjzjhsmkt001mz0uzctl9tueg/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://jacokwu.cn/blog">JaCo Wu的博客</a>！</span></div></div><div class="post-meta__tag-list"><a class="post-meta__tags" href="/blog/tags/http/">http</a></div><nav id="pagination"><div class="prev-post pull-left"><a href="/blog/css/cjzjhsmjj000zz0uza06meh27/"><i class="fa fa-chevron-left">  </i><span>[转]css加载会造成阻塞吗？</span></a></div><div class="next-post pull-right"><a href="/blog/网络/cjzjhsmj6000vz0uzvh1szuup/"><span>[原]TCP协议的三次握手与四次挥手</span><i class="fa fa-chevron-right"></i></a></div></nav><div id="gitalk-container"></div><script>var gitalk = new Gitalk({
  clientID: '49402195632a617e3708',
  clientSecret: '887d4bded9e50678007602a209d9191c8e2d8dbf',
  repo: 'blog',
  owner: 'JaCoxxx',
  admin: 'JaCoxxx',
  id: md5(decodeURI(location.pathname)),
  language: 'zh-CN'
})
gitalk.render('gitalk-container')</script></div></div><footer class="footer-bg" style="background-image: url(https://jacokwu.cn/images/public/background.png)"><div class="layout" id="footer"><div class="copyright">&copy;2019 By JaCo Wu</div><div class="framework-info"><span>驱动 - </span><a href="http://hexo.io"><span>Hexo</span></a><span class="footer-separator">|</span><span>主题 - </span><a href="https://github.com/Molunerfinn/hexo-theme-melody"><span>Melody</span></a></div><div class="busuanzi"><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span id="busuanzi_container_page_pv"><i class="fa fa-file-o"></i><span id="busuanzi_value_page_pv"></span><span></span></span></div></div></footer><i class="fa fa-arrow-up" id="go-up" aria-hidden="true"></i><script src="https://cdn.jsdelivr.net/npm/animejs@latest/anime.min.js"></script><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-animate@latest/velocity.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-ui-pack@latest/velocity.ui.min.js"></script><script src="/blog/js/utils.js?version=1.6.1"></script><script src="/blog/js/fancybox.js?version=1.6.1"></script><script src="/blog/js/sidebar.js?version=1.6.1"></script><script src="/blog/js/copy.js?version=1.6.1"></script><script src="/blog/js/fireworks.js?version=1.6.1"></script><script src="/blog/js/transition.js?version=1.6.1"></script><script src="/blog/js/scroll.js?version=1.6.1"></script><script src="/blog/js/head.js?version=1.6.1"></script><script src="/blog/js/search/local-search.js"></script><script>if(/Android|webOS|iPhone|iPod|BlackBerry/i.test(navigator.userAgent)) {
  $('#nav').addClass('is-mobile')
  $('footer').addClass('is-mobile')
}</script><div class="search-dialog" id="local-search"><div class="search-dialog__title" id="local-search-title">本地搜索</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章"></div></div></div><hr><div id="local-search-results"><div id="local-hits"></div><div id="local-stats"><div class="local-search-stats__hr" id="hr"><span>由</span> <a href="https://github.com/wzpan/hexo-generator-search" style="color:#49B1F5;">hexo-generator-search</a>
 <span>提供支持</span></div></div></div><span class="search-close-button"><i class="fa fa-times"></i></span></div><div class="search-mask"></div></body></html>